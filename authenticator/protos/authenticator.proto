syntax = "proto3";

package dbauth.authenticator.protos;

service Authenticator {
        rpc GetDBUser(DBUserRequest) returns (DBUserResponse) {}
//        rpc GetDBHash(DBHashRequest) returns (DBHashResponse) {}
}

message DBUserRequest {
        string iam_role_arn = 1;
        string signed_get_caller_identity = 2;
        string dbname = 3;
}

message DBHashRequest {
        string iam_role_arn = 1;
        string signed_get_caller_identity = 2;
        string dbname = 3;
        bytes salt = 4;
}

message DBUserResponse {
        string dbuser = 1;
}

message DBHashResponse {
        string hash = 1;
}
